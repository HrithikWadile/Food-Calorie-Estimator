<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Food Calorie Estimator</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState } = React;

        // Inline SVG Icons
        const Upload = ({ size = 48, className = "" }) => (
          <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
            <polyline points="17 8 12 3 7 8"></polyline>
            <line x1="12" y1="3" x2="12" y2="15"></line>
          </svg>
        );

        const Search = ({ size = 20, className = "" }) => (
          <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
            <circle cx="11" cy="11" r="8"></circle>
            <path d="m21 21-4.35-4.35"></path>
          </svg>
        );

        const X = ({ size = 16, className = "" }) => (
          <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
          </svg>
        );

        const IndianFoodCalorieEstimator = () => {
          const [image, setImage] = useState(null);
          const [result, setResult] = useState(null);
          const [searchTerm, setSearchTerm] = useState('');
          const [showFoodList, setShowFoodList] = useState(false);
          const [error, setError] = useState('');

          const indianFoodDatabase = {
            'biryani': { calories: 500, protein: 15, carbs: 65, fat: 18, serving: '1 plate (300g)', icon: 'üçö' },
            'roti': { calories: 80, protein: 3, carbs: 15, fat: 2, serving: '1 piece (40g)', icon: 'ü´ì' },
            'naan': { calories: 260, protein: 8, carbs: 45, fat: 5, serving: '1 piece (100g)', icon: 'ü´ì' },
            'paratha': { calories: 200, protein: 5, carbs: 30, fat: 8, serving: '1 piece (80g)', icon: 'ü•û' },
            'dosa': { calories: 120, protein: 3, carbs: 20, fat: 4, serving: '1 piece (100g)', icon: 'ü•û' },
            'idli': { calories: 40, protein: 2, carbs: 8, fat: 0.5, serving: '1 piece (40g)', icon: '‚ö™' },
            'samosa': { calories: 280, protein: 5, carbs: 30, fat: 16, serving: '1 piece (100g)', icon: 'ü•ü' },
            'paneer butter masala': { calories: 350, protein: 12, carbs: 15, fat: 28, serving: '1 cup (200g)', icon: 'üçõ' },
            'dal': { calories: 180, protein: 10, carbs: 28, fat: 4, serving: '1 cup (200g)', icon: 'üç≤' },
            'dal makhani': { calories: 220, protein: 10, carbs: 25, fat: 10, serving: '1 cup (200g)', icon: 'üç≤' },
            'chole': { calories: 220, protein: 12, carbs: 35, fat: 5, serving: '1 cup (200g)', icon: 'üç≤' },
            'chicken curry': { calories: 300, protein: 25, carbs: 10, fat: 18, serving: '1 cup (200g)', icon: 'üçó' },
            'butter chicken': { calories: 400, protein: 30, carbs: 15, fat: 25, serving: '1 cup (200g)', icon: 'üçó' },
            'rajma': { calories: 200, protein: 11, carbs: 32, fat: 4, serving: '1 cup (200g)', icon: 'üç≤' },
            'pulao': { calories: 350, protein: 8, carbs: 55, fat: 10, serving: '1 plate (250g)', icon: 'üçö' },
            'khichdi': { calories: 200, protein: 6, carbs: 35, fat: 4, serving: '1 plate (250g)', icon: 'üçö' },
            'pakora': { calories: 200, protein: 4, carbs: 20, fat: 12, serving: '4 pieces (100g)', icon: 'ü•ò' },
            'vada': { calories: 150, protein: 5, carbs: 18, fat: 7, serving: '2 pieces (80g)', icon: 'üçò' },
            'upma': { calories: 180, protein: 5, carbs: 30, fat: 5, serving: '1 plate (200g)', icon: 'ü•ò' },
            'poha': { calories: 160, protein: 4, carbs: 28, fat: 4, serving: '1 plate (200g)', icon: 'ü•ò' },
            'puri': { calories: 120, protein: 2, carbs: 15, fat: 6, serving: '1 piece (40g)', icon: 'ü´ì' },
            'gulab jamun': { calories: 175, protein: 3, carbs: 25, fat: 8, serving: '1 piece (50g)', icon: 'üç°' },
            'jalebi': { calories: 150, protein: 1, carbs: 28, fat: 5, serving: '2 pieces (50g)', icon: 'ü•®' },
            'raita': { calories: 80, protein: 4, carbs: 8, fat: 4, serving: '1 cup (150g)', icon: 'ü•õ' },
            'rice': { calories: 200, protein: 4, carbs: 45, fat: 0.5, serving: '1 cup (200g)', icon: 'üçö' },
            'jeera rice': { calories: 220, protein: 4, carbs: 45, fat: 4, serving: '1 cup (200g)', icon: 'üçö' },
            'aloo paratha': { calories: 250, protein: 6, carbs: 35, fat: 10, serving: '1 piece (120g)', icon: 'ü•û' },
            'pav bhaji': { calories: 400, protein: 10, carbs: 50, fat: 18, serving: '1 plate (300g)', icon: 'üçõ' },
            'vada pav': { calories: 300, protein: 6, carbs: 40, fat: 12, serving: '1 piece (150g)', icon: 'ü•ñ' },
            'masala dosa': { calories: 200, protein: 5, carbs: 30, fat: 7, serving: '1 piece (150g)', icon: 'ü•û' },
            'medu vada': { calories: 180, protein: 6, carbs: 20, fat: 8, serving: '2 pieces (100g)', icon: 'üçò' },
            'paneer tikka': { calories: 280, protein: 18, carbs: 8, fat: 20, serving: '6 pieces (150g)', icon: 'üßÜ' },
            'tandoori chicken': { calories: 200, protein: 30, carbs: 2, fat: 8, serving: '1 piece (150g)', icon: 'üçó' }
          };

          const handleImageUpload = (e) => {
            const file = e.target.files[0];
            if (file) {
              if (file.size > 5 * 1024 * 1024) {
                setError('Image size should be less than 5MB');
                return;
              }
              setError('');
              const reader = new FileReader();
              reader.onloadend = () => {
                setImage(reader.result);
                setShowFoodList(true);
                setResult(null);
              };
              reader.readAsDataURL(file);
            }
          };

          const selectFood = (foodName) => {
            const foodData = indianFoodDatabase[foodName];
            setResult({
              foodItem: foodName,
              ...foodData,
              confidence: 'user-selected'
            });
            setShowFoodList(false);
            setSearchTerm('');
          };

          const filteredFoods = Object.keys(indianFoodDatabase).filter(food =>
            food.toLowerCase().includes(searchTerm.toLowerCase())
          );

          const clearImage = () => {
            setImage(null);
            setResult(null);
            setShowFoodList(false);
            setSearchTerm('');
            setError('');
          };

          return (
            <div className="min-h-screen bg-gradient-to-br from-orange-50 to-yellow-50 p-6">
              <div className="max-w-2xl mx-auto">
                <div className="text-center mb-8">
                  <h1 className="text-4xl font-bold text-orange-600 mb-2">
                    üçõ Indian Food Calorie Estimator
                  </h1>
                  <p className="text-gray-600">Upload a photo and select your dish to get nutritional information</p>
                </div>

                <div className="bg-white rounded-2xl shadow-xl p-6 mb-6">
                  <div className="mb-6">
                    <label className="flex flex-col items-center justify-center w-full h-64 border-3 border-dashed border-orange-300 rounded-xl cursor-pointer hover:bg-orange-50 transition-colors relative">
                      <input
                        type="file"
                        className="hidden"
                        accept="image/*"
                        onChange={handleImageUpload}
                      />
                      {image ? (
                        <>
                          <img src={image} alt="Uploaded food" className="h-full object-contain rounded-xl" />
                          <button
                            onClick={(e) => {
                              e.preventDefault();
                              clearImage();
                            }}
                            className="absolute top-2 right-2 bg-red-500 text-white p-2 rounded-full hover:bg-red-600"
                          >
                            <X size={16} />
                          </button>
                        </>
                      ) : (
                        <div className="flex flex-col items-center">
                          <Upload size={48} className="text-orange-400 mb-2" />
                          <p className="text-gray-600 font-medium">Click to upload food image</p>
                          <p className="text-gray-400 text-sm mt-1">JPG, PNG (Max 5MB)</p>
                        </div>
                      )}
                    </label>
                  </div>

                  {showFoodList && (
                    <div className="mb-6">
                      <div className="relative mb-4">
                        <div className="absolute left-3 top-3 text-gray-400">
                          <Search size={20} />
                        </div>
                        <input
                          type="text"
                          placeholder="Search for your dish..."
                          value={searchTerm}
                          onChange={(e) => setSearchTerm(e.target.value)}
                          className="w-full pl-10 pr-4 py-3 border-2 border-orange-200 rounded-lg focus:outline-none focus:border-orange-400"
                        />
                      </div>

                      <div className="max-h-64 overflow-y-auto border-2 border-orange-100 rounded-lg">
                        <div className="grid grid-cols-2 gap-2 p-2">
                          {filteredFoods.map((food) => (
                            <button
                              key={food}
                              onClick={() => selectFood(food)}
                              className="flex items-center gap-2 p-3 bg-orange-50 hover:bg-orange-100 rounded-lg text-left transition-colors"
                            >
                              <span className="text-2xl">{indianFoodDatabase[food].icon}</span>
                              <span className="text-sm font-medium text-gray-700 capitalize">{food}</span>
                            </button>
                          ))}
                        </div>
                      </div>
                    </div>
                  )}

                  {error && (
                    <div className="p-4 bg-red-50 border border-red-200 rounded-lg">
                      <p className="text-red-700 text-sm">{error}</p>
                    </div>
                  )}
                </div>

                {result && (
                  <div className="bg-white rounded-2xl shadow-xl p-6">
                    <div className="mb-4">
                      <div className="flex items-center gap-3 mb-2">
                        <span className="text-4xl">{result.icon}</span>
                        <h2 className="text-2xl font-bold text-gray-800 capitalize">{result.foodItem}</h2>
                      </div>
                      <p className="text-gray-500 text-sm mt-1">Serving size: {result.serving}</p>
                    </div>

                    <div className="grid grid-cols-2 gap-4 mb-6">
                      <div className="bg-gradient-to-br from-orange-100 to-orange-50 p-4 rounded-xl">
                        <p className="text-orange-600 text-sm font-medium mb-1">Calories</p>
                        <p className="text-3xl font-bold text-orange-700">{result.calories}</p>
                        <p className="text-orange-600 text-xs">kcal</p>
                      </div>
                      <div className="bg-gradient-to-br from-blue-100 to-blue-50 p-4 rounded-xl">
                        <p className="text-blue-600 text-sm font-medium mb-1">Protein</p>
                        <p className="text-3xl font-bold text-blue-700">{result.protein}</p>
                        <p className="text-blue-600 text-xs">grams</p>
                      </div>
                      <div className="bg-gradient-to-br from-green-100 to-green-50 p-4 rounded-xl">
                        <p className="text-green-600 text-sm font-medium mb-1">Carbs</p>
                        <p className="text-3xl font-bold text-green-700">{result.carbs}</p>
                        <p className="text-green-600 text-xs">grams</p>
                      </div>
                      <div className="bg-gradient-to-br from-purple-100 to-purple-50 p-4 rounded-xl">
                        <p className="text-purple-600 text-sm font-medium mb-1">Fat</p>
                        <p className="text-3xl font-bold text-purple-700">{result.fat}</p>
                        <p className="text-purple-600 text-xs">grams</p>
                      </div>
                    </div>

                    <div className="bg-yellow-50 border border-yellow-200 rounded-lg p-4">
                      <p className="text-yellow-800 text-sm">
                        <span className="font-semibold">Note:</span> Calorie estimates are approximate and may vary based on cooking method, ingredients, and portion size.
                      </p>
                    </div>
                  </div>
                )}

                <div className="mt-6 text-center text-gray-500 text-sm">
                  <p>Database includes 30+ popular Indian dishes</p>
                  <p className="mt-1">üì∏ Upload a photo ‚Üí üîç Search & select ‚Üí üìä Get nutrition info</p>
                </div>
              </div>
            </div>
          );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<IndianFoodCalorieEstimator />);
    </script>
</body>
</html>